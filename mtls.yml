apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVVRENDQWppZ0F3SUJBZ0lRY2p2UjU2UUhwdUM1RCthTlppNHFqREFOQmdrcWhraUc5dzBCQVFzRkFEQWQKTVJzd0dRWURWUVFEREJKMGJITXVaWGhoYlhCc1pTNWpiMjFmWTJFd0hoY05NakF4TURBeU1qRXlNVEl6V2hjTgpNakl3TkRBeU1qRXlNVEl5V2pBYU1SZ3dGZ1lEVlFRREV3OTBiSE11WlhoaGJYQnNaUzVqYjIwd2dnRWlNQTBHCkNTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDeXdRT09BUGY0TEtBTm8reGswazJDRlBad21OV0wKR1VzT09yS3l2Z3ZmdFRKdFpJdVFkdkZpY3UxNkZ6UTkvRk1USnNkcHpHalVCWGJ2WVFsSGIxTWpLdS93Q1hlZwo3S2NrUGI4NGJxSzRPUFF3dWgzekkwNkxIUDRtTFlJRFJzOVBIUys0S21OQnJyUVUyWFRhck1vcFF4SVlWZmtLClREN2NFRDVBQ2Jib2E1eThtSDFFbkFOQ1BSY28wWEFmMXBtVkJhSEhxNEZpNERScVNkVkkyQVg4bmJHVVVqeFMKNnd1SnQ0dTVJNUhPYndjWlFWN1V3Vm1nSjFJdzdDWmNQaGwwZkdrNGxpTURMVWFJSE52bGpLM3p2cmIxVFpWbApHd2N2QXZaRUZEMjJuOFBGN3VqbXhUZFVZWWxMby9XNzA0M2ZqdDRucnVrVmFRbDUrV1NiK2pmaEFnTUJBQUdqCmdZNHdnWXN3RGdZRFZSMFBBUUgvQkFRREFnTzRNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUYKQlFjREFqQWRCZ05WSFE0RUZnUVVEeVRsd3JtMzdKbzBWRlllaUQ4N3hBeGNPTTB3SHdZRFZSMGpCQmd3Rm9BVQpLSS9nZkxYdFdCcFhqU0dzK1JFTWRid3VSc3N3R2dZRFZSMFJCQk13RVlJUGRHeHpMbVY0WVcxd2JHVXVZMjl0Ck1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQVJJampVeFNPLzZiTkp0UDBZWE1lZXFqb1pUMVBHN3hQM0tPc0oKeWloYkxreXNvTlJkcHk1dTZIZnRyRndjdzZMVnBvWkwwcXhEMTVTWHI0S3lxQ3hjZzR0TWFSTDNhSmZOVUNVeQpvaGMxNGFHYlppSG9KdTdGNDNwbWVHNG9VWUNKVnhSNisyRFB4QUFEQTRwWUczQXRxZXREbVhIODFMdDgweEZECkJpN0dJcDU4TnJOeStPRUlNdVArSFpEcjZhSzYxZy92U09mam9JaU1oVVRkTzhiaFVCTW1DTnk3MEhMeW4vcFAKSWZSYzJSTGdjOG1SZE00RW9ReHBTekF5a3BGYWphU1p6Zm5pa3NTT1pPT25lUWNVaDE2ck1oNDYvWi8zWnlTbQpXYkM2UzJKYU5tcFZkNzV3ajRMZEhqNDJKbUQ5VStBZmhwRE9qdC9XS0NuSXhzdUc4R1YvTmowK0FYaFF2bXVBCk03WG1mRlpET1J6TG1kSXpmRUY5ajY2SWR1clJ6MUdDVnp2Wjl1TEl6WXpVNzRwOWk4aWc3eWIycHF3ZUlubU4KWlhQbm5Pa1RSZTFlbEt2VXpQeXVZNVlYTWRRMVljaHZtY3Q4VzIzMU8xbmk4RlRsYUlVY3JmRXlBZStlditJNQpPV2xZWFVOMUZkeHNiRlpCV09aekVXYWNEd3lwK3A2SVB6UGlFbURwb2R0ZWUyVGFKUmgvaFZaK09aMEthMTNrCjlQU3RUNWlSNzc4Q1NYb1ZrZFgrS1BtMFhyU3RCUUkyQWE1TkZHendPb2tsdlBOL0lUa0dDZHI5QkNnMlFuRVMKNGZUM1h0WTk1MTgrRFlrNFNNM2k4UGUxYzFIcXQyVkFRYlI5QjVEY2xaYVAvdjlodWY3dHpZSjdJNnBSeEpCTwpqYWZObGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBc3NFRGpnRDMrQ3lnRGFQc1pOSk5naFQyY0pqVml4bExEanF5c3I0TDM3VXliV1NMCmtIYnhZbkx0ZWhjMFBmeFRFeWJIYWN4bzFBVjI3MkVKUjI5VEl5cnY4QWwzb095bkpEMi9PRzZpdURqME1Mb2QKOHlOT2l4eitKaTJDQTBiUFR4MHZ1Q3BqUWE2MEZObDAycXpLS1VNU0dGWDVDa3crM0JBK1FBbTI2R3VjdkpoOQpSSndEUWowWEtORndIOWFabFFXaHg2dUJZdUEwYWtuVlNOZ0YvSjJ4bEZJOFV1c0xpYmVMdVNPUnptOEhHVUZlCjFNRlpvQ2RTTU93bVhENFpkSHhwT0pZakF5MUdpQnpiNVl5dDg3NjI5VTJWWlJzSEx3TDJSQlE5dHAvRHhlN28KNXNVM1ZHR0pTNlAxdTlPTjM0N2VKNjdwRldrSmVmbGttL28zNFFJREFRQUJBb0lCQUM2WTJoQmVlRVdkZkd1UgoyOEc4Z0svMFB2bkRIWWVSSkZ1bE9ZZ1d1b21xZG1iRjJ3dmh0Ykx3T3ErazlOMWp0VlE4dTZiOHZpYm05Y1laCkNZNHhtdjZENXVBdjE1dC9sV0tCSmlQVDAxOHFtWjFLSnh5R2k2Yi8rOUIvOUhCZU9SUnFpMUg2MnJ6NGljRVYKbnJ5U1puQ3pKemhvME82NlNYaWNVMTNtS21RVG1ZbytWNjljWnJ5Yk9lRE9xVHp2bnQ1TUxBNDRTblNYMFVVSwphR0I3ZEhZNVJRVE5GTlJKNWJpMFRURG9ickNneDkxQVgvSmlWeHR2RnIwSVorQklsMlpnSjk3bmwxMThqUzJkCnNVSkNWNUpRZ0hhaWN4OC9SdGdNRGJST0lSWWE4WXhseitzUVNvdjdpR0xpQ0taeWFFTFUvUlpaYWZpZnpCdGcKNmlHa3VVRUNnWUVBeHdPNDRTaFNoNXE2RlZGazU3dCsvRytETXFSQ1Rvbmtra2hTQzhBQlJOZnFpUVVpS1hNZQpMZU5NaTB6d1N5enR2RlIzVys1dDZwTGs2aUhYU0NFbmVMa0M4U0tXRWJERzAybEJHOXBUZU1YV2IrZDJsWWpUCllDak1mWTZzbEZiaU9uTEdOa3VqUDVlZldTbGhxNk5vU2lpU0VIQjUvQk1iWFJ4a3lrSGdXY1VDZ1lFQTVmQWoKbkovYUpRYjNJY25lb0ZCUFNRWHZtNk1pMGVtc0FacFVuSmpKQTZhUDNacTVmVjJTVmNuOTB2aCtVMkhNTldaaApvNnpQWFpVNmRrTTl5dnJpOXc5bFd4Ym9URG5UanhSaXoxUThQTGpKQWZVS2xLbjBmRXc4K29nSWs4clo1SS9qCkN5N1J6aE5XNURiMkxIcHZBQVpqWEZJY3BVcVFRVFR0SzVzbTgyMENnWUJsVGErK2JSZ1ZqdDFLSExTUWdSQ1MKenZDcHhwTTZCMWNpWDAza1RVaFlFdENBRHV6a3pJU0FOME92Wk9xc1dhSnFTMVMycHhlc1lEbkdOSk94VTY4VAo5SmxheFpBK1VRM2tiNStFM2cyL1hIVmJZU2NyMXdwQjJJSy9KdkVTVVdlMitOV01yZFBiZXdMU0VBNTNvQ1ptCkdXREFuWUI2bi84OTFrWTM3bkNWUVFLQmdEeThiTHV2WWJETUlUVTBuSENlSmdNMDVUQ29LOGRrd01GL29YL24KdjVrT1F3d1hGWTN1ekh1S3FsZ3l1VE9QTHFDZ1ZZUWxYblRxdVJHSisyV0ZWYlJLeGN3RXhnRjBlTlJmWHlaQwpxdEtqUUwwYW05dmU5S3hzZXVMMlVjV3dIRlFLU2IrbmMxWEt0L1g2S3BaZkZMamQ5eHJvdVpaVGxyMFNuTjhhCjBYUVZBb0dCQUlCazUvUk14TmZiOENBUjdxU0tLdzkvSGhOc0ZMdTE5c0h1L1FzTnNYaHEzNGQ4am0vQUl0ckEKa3ppVEIrUTFieXkwREpuMUFCM1A5bEljbHI0NHNoWnFDOVQzYlYwRXFSdDJ2cDRuWVdtRUVDbytheC9Qdnl6MgozOXd4T2ZhSUJXR3d3a1BXenpzeEhTaEpKdXE3REJRczZzeVBvZGR3V0ZoaVlvV2dwS0UwCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  name: httpbin-cert
type: kubernetes.io/tls
---
apiVersion: v1
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2RENDQXRDZ0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFVTVJJd0VBWURWUVFEREFsamJHbGwKYm5SZlkyRXdIaGNOTWpBeE1EQTFNVGN6TmpBNVdoY05Nakl3TkRBMU1UY3pOakEzV2pBVU1SSXdFQVlEVlFRRApEQWxqYkdsbGJuUmZZMkV3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQzlYbVczCkRieWtnbER2dy8reFpycW44azJnWit6eFBBMGk1cUdpdXE5b3F5RUdqZ0FJQS94dW0rWWp6MHZUWHI5VGNHSWMKOHZ5RVp6TmNkekRuM3BTVGVWRzhzcFhESUUrd1JIakpkK05vS3daYnM1V2NVRXY0bDVRemRBZHRnR1RsdWZiOApRQytuUzR3TjNaVkwwOTI2T29mOUFzbzFtNlFCNXgwRktqY1BoVng3ZHY1NzAzV2c3ZjZudVBoU1pwTXErelA2Ck9JODRrRTlQa3VyR0tjcFhnbnYrNWcwUGR2bThWMUhlUFcydjFmOWJLQnpVMFF6ak5EelZZRTdlS2tGWTlhT3cKUTBHOXM4MFQyWENTL3FwWkd1TmYyUmk2VHV0aTR2aHpjR1dOYllOQVNBQ2JXOHdMZnAvbkhzVDRkeGFrQWRuYQpVN0NrTjFvcGR1c0ZZWFVGc3ROSDRBcU5hL0FvbzNBdDVydWhFdlJoblJ2VldrSzQ1c2kzTTBxdml4N2RJdHpNCktMaW5qdzVzQmVvbTFSbWkvVXE5VFNHcldjZWtNTmVSTnUzTmRNcmhtdkx1NUhwVkd3bnVBZy9Sb0V6WnNjWVEKZDYrVWdaVTRFRWhOT3MvZjZncC9WWkJQeXhJdG56TTlOWmcrdG5sTWhaa2VHcVNIR294THVKOGNwY1FBN2lhTgpuRjJNY3lWT3l6VG9xWGpyZHh6VHlKZ1lZNEpqaHVzVWRXZTNXcnE2aFcydzVOQW9MbnZ4YmZwT2orbEM2WS9MClVmQVNnOTJWS3RnSzlzTHYxc243NDdZNlhLRkt5MmZTNmpDbitWTklkeFZaV2d3S2hweE9xUFVEWDlKdFA4WkYKVDYxazlWd09sN0d1ZlRGVFErWmRudElQVTVJRXhpZDQ4SUo2aFFJREFRQUJvMFV3UXpBT0JnTlZIUThCQWY4RQpCQU1DQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFEQWRCZ05WSFE0RUZnUVVwaWJmem9lc3hzbUVqZm5TCkJCWkljK2dIb0hJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFERGVVRzBvQnF0VkZ0ZGw2MGlyeEtsUnBYd0MKY0VLYXRJUVRoZDdNbDRTc1owaHpMN21kU1JqWXZJV1FycXJXVzhsK0FtbTFwV3VEcWVyU3hpdHVwUThpYXRKLwpCZlFhUGVmaUd5UEdJZWdQSE16UDFmYmZKWEpFQVRBVkI1ZDd2bzhmTTNMZWlzTit6TkJ3K3M1VE1vUnVvV3ZICmovcE9UTm91Uk1PblpMckIweG9XOXU2aUI5aWgzYm9NdEt6dm1hakdlNHlNZ2daS2I5TWxaMTJjZXFDUVRoUWEKTFczTm85TnhRd05jRlZZWUlhSTBlV2p2b0F5Z3NlOUg3UU1qQXN0dnBFeXJQOWdkUGllUDhFWU9ibkE5SDlQdwpoVmNBOXFxOGRiVWxQZC9OMXY0WHR6WUZRMU5RUnpCMjNFZStnTkdjMUlYZkpyYUZ5M3dVeWRTMENOdFJhTGplCmVkTXI3WDlVVWcyblZTSHBvZXh6bXlwSTBmVit5d2t0TWY2SWQweVhEMTFaZVhSbFRBVXFQL1U4Um5tRS9lbEwKckN1WVh5K1ArRnBXMU5SVG1vSElkN1dCSEgxZ2syVm9YNEZzZnJiQnBxaUZ1NFF4bjVuMTZ2QlFYTlVYTTNEbQpvTnlENFZkNE10UFE0VC9sdU5HcnliV1VsVFVzdWY5Tm44ZFV6OURDdHloV1N0aGZKMlhkbVBCVUdORjdBV25XCjBTMkZpU1hYczdHdlRtbTR5WGYyanBIbnRreEllaGg3QTd4R2ZnRmwvZkJMajM0M3ZzZnBGSk9waGl4TUV4TlIKbVR6TkZmVCtISk1LcXNDNVMxaE9kK3Y4RG1ZcTl4YnBCRlVNUUw1ckROTFkzcXd6U2VKT1NqRCtXQVhHaEhaUQpOMHYrUGQxV21pYldZSkVICi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
kind: Secret
metadata:
  name: client-root-ca
type: Opaque
---
apiVersion: projectcontour.io/v1
kind: HTTPProxy
metadata:
  name: with-client-auth
spec:
  virtualhost:
    fqdn: tls.example.com
    tls:
      secretName: httpbin-cert
      clientValidation:
        caSecret: client-root-ca
  routes:
    - services:
        - name: httpbin
          port: 80
